<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-sacle=1.0">
		<script type="text/javascript" src="../node_modules/avalon2/dist/avalon.js"></script>
		<title>vm_2_arr</title>
	</head>
	<body>
		<div ms-controller='derek'>
			
		</div>
		<div ms-controller='emma'>
			
		</div>
		<div ms-controller='test'>
			<div ms-for='el in @array'>
				{{el}}<button type="button" ms-click='@array.remove(el)'>click me for deleteing current row</button>
			</div>
		</div>
	</body>
	<script type="text/javascript">
			var vm2 = avalon.define({
				$id:'emma',
				array:[1,2,3],
				func:function(){
					// this.array.push(1,2,3);
					// this.array.pushArray([4,5,6]);
					// this.array.clear();
					this.array.ensure(3);//有则不变，无则添加
					this.array.ensure(3);
					this.array.ensure(4);
					// this.array.[0] = 8;语法错误，只能用set进行修改
					this.array.set(0,4);
					console.log(this.array);
				}
			});
			vm2.func();
			var vm3 = avalon.define({
				$id:'test',
				array:[1,2,3,4,5]
			})
	</script>
</html>